This readme is intended for plume-lib developers.
The main plume-lib documentation is in file README.html .


--Making a release--

To make a plume-lib release and upload it to Google Code:

1. Update changelog.html.

2. Commit and push any changes in your copy of the plume-lib repository.

3. Run the make-plume-release script located in plume-lib/bin:

    cd plume-lib
    bin/make-plume-release x.y.z

where x.y.z is the intended new version number of the release.

The script requires that $JAVAC or 'javac' point to the JSR308 compiler.
If this is the case, then the release is built and the test cases are run.  The
release should be Java 5 compatible.

You will be asked if you want artifacts generated by this release to be uploaded
to Google Code automatically.  If so, you will be prompted to enter your Google
Code username and password.  This step requires that googlecode_upload.py
(http://support.googlecode.com/svn/trunk/scripts/googlecode_upload.py)
be in your $PATH.

4. Check that the artifacts were successfully uploaded to Google Code, or upload
them manually if not using googlecode_upload.py.  Remove the Featured label
from the previous release downloads in Google Code and reapply the label to the
new downloads.

5. Remove the old directory /cse/www2/types/plume-lib/api , and replace it
by the current plume-lib/java/api directory:

    make -C $pl/java javadoc
    rm -rf /cse/www2/types/plume-lib/api
    cp -pr $pl/java/api /cse/www2/types/plume-lib

6. Push the new Mercurial tag created by the script to the repository.
